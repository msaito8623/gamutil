% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/add_fit.R
\name{add_fit}
\alias{add_fit}
\title{Add predicted values with standard errors to a data.frame}
\usage{
add_fit(ndat, mdl, terms = NULL, ci.mult = qnorm(0.975))
}
\arguments{
\item{ndat}{A data.frame, which should already contain combinations of
values of the predictors in the model.}

\item{mdl}{A GAM object, from which predicted values are taken.}

\item{terms}{A character string, which specifies which terms in the model
you would like to use to obtain predicted values.}

\item{ci.mult}{A numeric to multiply standard errors.}
}
\value{
The data.frame provided through "ndat" with additional columns for
predicted values (i.e., fit) and upper and lower confidence interval
boundaries (i.e., upr and lwr).
}
\description{
In order to obtain predictions from a regression model, you need to first
create a data.frame with combinations of values of the variables in the
model, feed it to some function for prediction (e.g., predict.gam), and add
upper and lower boundaries for confidence intervals yourself. This function
takes such a data.frame (i.e., "ndat") and add predicted values and standard
errors based on the model provided through "mdl". "ndat" can be created by
gamutil::to_ndat.
}
\examples{
library(mgcv)
set.seed(534)
dat <- gamSim(verbose=FALSE)
model <- gam(y ~ s(x0) + s(x1) + s(x2) + ti(x0,x1), data=dat)
target_to_vary <- c('x0','x1')
ndat <- mdl_to_ndat(mdl=model, target=target_to_vary, len=4, method=median)
terms_to_predict <- target_to_vary
# Prediction of the summed effect by all the terms.
ndat1 <- add_fit(ndat, model)
# Prediction of partially summed effects by the terms with "x0" and "x1"
# (i.e., s(x0), s(x1), ti(x0,x1)).
ndat2 <- add_fit(ndat, model, terms=terms_to_predict)
}
\author{
Motoki Saito, \email{motoki.saito@uni-tuebingen.de}
}
\keyword{utilities}
